# Ask About Go Tutorial Topic

解説ドキュメントを読んでいる際に分からないことを質問し、回答と追加情報を学習ドキュメントとして保存するコマンドです。

## 使用方法

1. 解説ファイル（`*_explanation/*.md`）を開いている状態でこのコマンドを実行
2. または、トピック名やファイルパスを指定して実行
3. 質問を入力すると、チャットで回答が表示され、学習ドキュメントが自動生成されます

## 処理フロー

以下の手順で処理を実行してください：

### 1. コンテキスト検出

現在開いているファイルまたはユーザーが指定した情報から、対応するトピックを特定します。

- 現在開いているファイルが `*_explanation/*.md` 形式の場合：
  - ファイルパスからセクション（`01_basics`, `02_flowcontrol` など）とトピック番号を抽出
  - 例: `04_methods_explanation/18_errors.md` → セクション: `04_methods`, 番号: `18`, トピック: `errors`
  
- ユーザーがトピック名やファイルパスを指定した場合：
  - 指定された情報から対応する解説ファイルとGoファイルを特定

### 2. 関連情報の収集

以下の情報を収集してください：

1. **対応するGoファイル**を読み込む
   - パス: `<セクション>/<番号>_<topic>.go`
   - 例: `04_methods/18_errors.go`

2. **解説ファイル**の内容を読み込む
   - パス: `<セクション>_explanation/<番号>_<topic>.md`
   - 例: `04_methods_explanation/18_errors.md`

3. **関連トピック**を読み込む
   - 解説ファイルの「ナビゲーション」セクションに記載されている関連トピックを読み込む
   - 前後のトピックも読み込む（必要に応じて）

4. **リポジトリ全体から関連情報を検索**
   - ユーザーの質問に関連する概念やコードを検索
   - 同じセクション内の他のトピックも検索対象に含める

### 3. 質問への回答

収集した情報を基に、ユーザーの質問に対して詳しく回答してください：

- **コードの動作説明**: Goファイルのコードがどのように動作するか
- **概念の深掘り**: 解説ファイルに記載されている内容をより詳しく説明
- **実用例**: 実際の使用例やコードスニペット
- **関連概念との比較**: 関連トピックとの違いや関係性

回答は日本語で、分かりやすく、具体的な例を含めて説明してください。

### 4. 学習ドキュメントの生成

回答内容を学習ドキュメントとして保存します。

**保存先**: `<セクション>_learning/<番号>_<topic>.md`
- 例: `04_methods_learning/18_errors.md`

**ファイル内容のテンプレート**:

```markdown
# <トピック名> - 学習メモ

> **元の解説**: [<番号>_<topic>.md](../<セクション>_explanation/<番号>_<topic>.md)  
> **ソースコード**: [<番号>_<topic>.go](../<セクション>/<番号>_<topic>.go)  
> **作成日**: <YYYY-MM-DD>

## 質問

<ユーザーの質問をここに記載>

## 回答

<詳細な回答をここに記載>

## 追加の解説

<必要に応じて追加情報、補足説明、注意点など>

## 実用例

<実際の使用例やコードスニペット>

## 参考リンク

- [関連トピック1](../<セクション>_explanation/<ファイル>.md) - <説明>
- [関連トピック2](../<セクション>_explanation/<ファイル>.md) - <説明>
- [A Tour of Go - <トピック>](<URL>)
```

**既存ファイルの扱い**:
- 学習ドキュメントが既に存在する場合、新しい質問と回答を追記してください
- ファイルの先頭に「## 質問」セクションを追加し、その下に「## 回答」セクションを追加
- 日付は各質問セクションに記載

### 5. ディレクトリの作成

学習ドキュメントを保存するディレクトリ（`<セクション>_learning/`）が存在しない場合は、自動的に作成してください。

## プロンプト例

ユーザーが質問を入力したら、以下のような形式で処理してください：

```
現在のトピック: <セクション>/<番号>_<topic>
質問: <ユーザーの質問>

[ここで上記の処理フローを実行]
```

## 使用例

### 例1: 解説ファイルを開いている状態で質問

1. `04_methods_explanation/18_errors.md` を開く
2. `/ask-about-topic` コマンドを実行
3. 「エラーインターフェースと他のインターフェースの違いは何ですか？」と質問
4. チャットで回答が表示され、`04_methods_learning/18_errors.md` に学習メモが生成される

### 例2: トピックを指定して質問

1. `/ask-about-topic` コマンドを実行
2. 「ポインタレシーバについて詳しく教えて」と質問
3. 現在開いているファイルからトピックを自動検出、または指定されたトピックを検索
4. 回答と学習メモが生成される

### 例3: コードの動作について質問

1. `03_moretypes_explanation/06_slices.md` を開く
2. `/ask-about-topic` コマンドを実行
3. 「スライスの容量と長さの違いを実際のコードで説明してください」と質問
4. コード例を含む詳細な回答と学習メモが生成される

## 注意事項

- 常に日本語で回答してください
- コード例は実行可能な形式で提供してください
- 関連トピックへのリンクは相対パスで記載してください
- 学習ドキュメントは既存の内容を上書きせず、追記形式で保存してください
- ディレクトリが存在しない場合は自動的に作成されます
